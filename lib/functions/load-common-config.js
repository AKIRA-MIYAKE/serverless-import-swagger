"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = require("../utils");

var _default = async (config, appRootPath = undefined // eslint-disable-next-line @typescript-eslint/no-explicit-any
) => {
  let filePath;

  if (config.common) {
    filePath = (0, _utils.resolveAppRootPath)(config.common, appRootPath);
  } else {
    filePath = await (0, _utils.getPathIfExistsWithRegExp)(/^serverless.common.ya?ml$/, appRootPath);
  }

  if (typeof filePath === 'undefined') {
    return {};
  }

  return (0, _utils.loadFileAsJSONIfExists)(filePath);
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mdW5jdGlvbnMvbG9hZC1jb21tb24tY29uZmlnLnRzIl0sIm5hbWVzIjpbImNvbmZpZyIsImFwcFJvb3RQYXRoIiwidW5kZWZpbmVkIiwiZmlsZVBhdGgiLCJjb21tb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7ZUFNZSxPQUNiQSxNQURhLEVBRWJDLFdBQStCLEdBQUdDLFNBRnJCLENBR2I7QUFIYSxLQUlJO0FBQ2pCLE1BQUlDLFFBQUo7O0FBQ0EsTUFBSUgsTUFBTSxDQUFDSSxNQUFYLEVBQW1CO0FBQ2pCRCxJQUFBQSxRQUFRLEdBQUcsK0JBQW1CSCxNQUFNLENBQUNJLE1BQTFCLEVBQWtDSCxXQUFsQyxDQUFYO0FBQ0QsR0FGRCxNQUVPO0FBQ0xFLElBQUFBLFFBQVEsR0FBRyxNQUFNLHNDQUNmLDJCQURlLEVBRWZGLFdBRmUsQ0FBakI7QUFJRDs7QUFFRCxNQUFJLE9BQU9FLFFBQVAsS0FBb0IsV0FBeEIsRUFBcUM7QUFDbkMsV0FBTyxFQUFQO0FBQ0Q7O0FBRUQsU0FBTyxtQ0FBdUJBLFFBQXZCLENBQVA7QUFDRCxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZXJuYWxDb25maWcgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7XG4gIHJlc29sdmVBcHBSb290UGF0aCxcbiAgZ2V0UGF0aElmRXhpc3RzV2l0aFJlZ0V4cCxcbiAgbG9hZEZpbGVBc0pTT05JZkV4aXN0cyxcbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoXG4gIGNvbmZpZzogSW50ZXJuYWxDb25maWcsXG4gIGFwcFJvb3RQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbik6IFByb21pc2U8YW55PiA9PiB7XG4gIGxldCBmaWxlUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAoY29uZmlnLmNvbW1vbikge1xuICAgIGZpbGVQYXRoID0gcmVzb2x2ZUFwcFJvb3RQYXRoKGNvbmZpZy5jb21tb24sIGFwcFJvb3RQYXRoKTtcbiAgfSBlbHNlIHtcbiAgICBmaWxlUGF0aCA9IGF3YWl0IGdldFBhdGhJZkV4aXN0c1dpdGhSZWdFeHAoXG4gICAgICAvXnNlcnZlcmxlc3MuY29tbW9uLnlhP21sJC8sXG4gICAgICBhcHBSb290UGF0aFxuICAgICk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZpbGVQYXRoID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHJldHVybiBsb2FkRmlsZUFzSlNPTklmRXhpc3RzKGZpbGVQYXRoKTtcbn07XG4iXX0=